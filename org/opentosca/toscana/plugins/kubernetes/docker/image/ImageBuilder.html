<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Sat Mar 31 21:50:17 CEST 2018 -->
<title>ImageBuilder</title>
<meta name="date" content="2018-03-31">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ImageBuilder";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ExportingImageBuilder.html" title="class in org.opentosca.toscana.plugins.kubernetes.docker.image"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/PushingImageBuilder.html" title="class in org.opentosca.toscana.plugins.kubernetes.docker.image"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html" target="_top">Frames</a></li>
<li><a href="ImageBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opentosca.toscana.plugins.kubernetes.docker.image</div>
<h2 title="Class ImageBuilder" class="title">Class ImageBuilder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opentosca.toscana.plugins.kubernetes.docker.image.ImageBuilder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>com.spotify.docker.client.ProgressHandler</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ExportingImageBuilder.html" title="class in org.opentosca.toscana.plugins.kubernetes.docker.image">ExportingImageBuilder</a>, <a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/PushingImageBuilder.html" title="class in org.opentosca.toscana.plugins.kubernetes.docker.image">PushingImageBuilder</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ImageBuilder</span>
extends java.lang.Object
implements com.spotify.docker.client.ProgressHandler</pre>
<div class="block">Implements the building functionality for Docker images (it requires a running Docker Daemon and the proper privileges)
 <p>
 Storage functionality such as Pushing or Exporting gets implemented in the corresponding child classes</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/opentosca/toscana/core/plugin/PluginFileAccess.html" title="class in org.opentosca.toscana.core.plugin">PluginFileAccess</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#access">access</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#dockerWorkDir">dockerWorkDir</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#ImageBuilder-java.lang.String-java.lang.String-org.opentosca.toscana.core.transformation.TransformationContext-">ImageBuilder</a></span>(java.lang.String&nbsp;tag,
            java.lang.String&nbsp;dockerWorkDir,
            <a href="../../../../../../../org/opentosca/toscana/core/transformation/TransformationContext.html" title="class in org.opentosca.toscana.core.transformation">TransformationContext</a>&nbsp;context)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#buildImage--">buildImage</a></span>()</code>
<div class="block">This Command Builds the DockerImage using the Dockerfile in the (previously specified) dockerWorkDir</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#cleanup--">cleanup</a></span>()</code>
<div class="block">Cleans the local Docker Daemon (Removes the image localy)</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected com.spotify.docker.client.DockerClient</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#getDockerClient--">getDockerClient</a></span>()</code>
<div class="block">Returns a instance of the DockerClient.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#getTag--">getTag</a></span>()</code>
<div class="block">Returns the tag of the given image.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#progress-com.spotify.docker.client.messages.ProgressMessage-">progress</a></span>(com.spotify.docker.client.messages.ProgressMessage&nbsp;progressMessage)</code>
<div class="block">This Method gets used to Print the Progress to the Logger.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html#storeImage--">storeImage</a></span>()</code>
<div class="block">This Method is intended to store the image somehow.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected final&nbsp;org.slf4j.Logger logger</pre>
</li>
</ul>
<a name="dockerWorkDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dockerWorkDir</h4>
<pre>protected final&nbsp;java.lang.String dockerWorkDir</pre>
</li>
</ul>
<a name="access">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>access</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/opentosca/toscana/core/plugin/PluginFileAccess.html" title="class in org.opentosca.toscana.core.plugin">PluginFileAccess</a> access</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ImageBuilder-java.lang.String-java.lang.String-org.opentosca.toscana.core.transformation.TransformationContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ImageBuilder</h4>
<pre>public&nbsp;ImageBuilder(java.lang.String&nbsp;tag,
                    java.lang.String&nbsp;dockerWorkDir,
                    <a href="../../../../../../../org/opentosca/toscana/core/transformation/TransformationContext.html" title="class in org.opentosca.toscana.core.transformation">TransformationContext</a>&nbsp;context)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tag</code> - the tag ("name") that the resulting image should have (should never Include any kind of registry URL, Username or Repository)</dd>
<dd><code>dockerWorkDir</code> - The working directory (relative to transformation root) that contains the dockerfile</dd>
<dd><code>context</code> - The TransformationContext used to retrieve the logger and the PluginFileAccess</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="buildImage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildImage</h4>
<pre>public&nbsp;void&nbsp;buildImage()
                throws java.lang.Exception</pre>
<div class="block">This Command Builds the DockerImage using the Dockerfile in the (previously specified) dockerWorkDir</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - gets thrown if something during the Build Procedure fails</dd>
</dl>
</li>
</ul>
<a name="getTag--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTag</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTag()</pre>
<div class="block">Returns the tag of the given image.
     (This method should be overridden if the Storing mechanism requires different tags, like registry urls in the tags...)</div>
</li>
</ul>
<a name="storeImage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeImage</h4>
<pre>public abstract&nbsp;void&nbsp;storeImage()
                         throws java.lang.Exception</pre>
<div class="block">This Method is intended to store the image somehow. (for example by pushing to a registry)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - gets thrown if something fails during the store process</dd>
</dl>
</li>
</ul>
<a name="cleanup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>public&nbsp;void&nbsp;cleanup()
             throws java.lang.Exception</pre>
<div class="block">Cleans the local Docker Daemon (Removes the image localy)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - gets thrown if something fails during the cleanup process</dd>
</dl>
</li>
</ul>
<a name="getDockerClient--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDockerClient</h4>
<pre>protected&nbsp;com.spotify.docker.client.DockerClient&nbsp;getDockerClient()
                                                          throws com.spotify.docker.client.exceptions.DockerCertificateException</pre>
<div class="block">Returns a instance of the DockerClient. This represents a factory method and should be overriden if the Building of a custom
     client is needed (for example with Registry credentials)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.spotify.docker.client.exceptions.DockerCertificateException</code></dd>
</dl>
</li>
</ul>
<a name="progress-com.spotify.docker.client.messages.ProgressMessage-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>progress</h4>
<pre>public&nbsp;void&nbsp;progress(com.spotify.docker.client.messages.ProgressMessage&nbsp;progressMessage)</pre>
<div class="block">This Method gets used to Print the Progress to the Logger.
     Progress and Status messages (Usually representing very verbose datastreams get logged to the Trace level)
     Container output and build output gets logged to the info Level
     Error Outputs get logged to the error level</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>progress</code>&nbsp;in interface&nbsp;<code>com.spotify.docker.client.ProgressHandler</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/ExportingImageBuilder.html" title="class in org.opentosca.toscana.plugins.kubernetes.docker.image"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/opentosca/toscana/plugins/kubernetes/docker/image/PushingImageBuilder.html" title="class in org.opentosca.toscana.plugins.kubernetes.docker.image"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/opentosca/toscana/plugins/kubernetes/docker/image/ImageBuilder.html" target="_top">Frames</a></li>
<li><a href="ImageBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
